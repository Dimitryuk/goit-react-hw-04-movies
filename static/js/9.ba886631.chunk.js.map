{"version":3,"sources":["Pages/MovieDetails/MovieDetails.module.css","Pages/MovieDetails/MovieDetails.js"],"names":["module","exports","Cast","lazy","Reviews","MovieDetails","id","useParams","useRouteMatch","url","path","useState","film","setFilm","title","poster_path","overview","history","useHistory","search","location","state","console","log","useEffect","res","fetchMoviesById","then","r","to","from","className","s","button","type","src","alt","width","pathname","fallback","color","height","timeout","component"],"mappings":"6HACAA,EAAOC,QAAU,CAAC,OAAS,+B,qKCYrBC,EAAOC,gBAAK,kBAChB,iCAEIC,EAAUD,gBAAK,kBACnB,iCAEa,SAASE,IACtB,IAAQC,EAAOC,cAAPD,GACR,EAAsBE,cAAdC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,KACb,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACQC,EAAiCF,EAAjCE,MAAOC,EAA0BH,EAA1BG,YAAaC,EAAaJ,EAAbI,SACtBC,EAAUC,cACRC,EAAWF,EAAQG,SAASC,MAA5BF,OAQR,OAPAG,QAAQC,IAAIN,EAAQG,UAEpBI,qBAAU,WACR,IAAMC,EAAMC,YAAgBpB,GAAIqB,MAAK,SAAAC,GAAC,OAAIf,EAAQe,MAClDN,QAAQC,IAAIE,KACX,CAACnB,IAGF,gCACE,4BACE,cAAC,IAAD,CACEuB,GAAIZ,EAAQG,SAASC,MAAMS,KAAOb,EAAQG,SAASC,MAAMS,KAAO,IADlE,SAGE,wBAAQC,UAAWC,IAAEC,OAAQC,KAAK,SAAlC,yBAKJ,qBACEC,IAAG,yCAAoCpB,GACvCqB,IAAI,SACJC,MAAM,QAER,6BAAKvB,IACL,8BAAIE,EAAJ,OACA,uBACA,gCACE,cAAC,IAAD,CACEe,UAAWC,IAAEC,OACbJ,GAAI,CACFS,SAAS,GAAD,OAAK7B,EAAL,SACRY,MAAO,CACLF,OAAQA,IALd,kBAWA,cAAC,IAAD,CACEY,UAAWC,IAAEC,OACbJ,GAAI,CACFS,SAAS,GAAD,OAAK7B,EAAL,YACRY,MAAO,CACLS,KACE,UAAGb,EAAQG,SAASkB,UAApB,UAAoCrB,EAAQG,SAASD,UAN7D,uBAcF,cAAC,WAAD,CACEoB,SACE,cAAC,IAAD,CACEL,KAAK,YACLM,MAAM,UACNC,OAAQ,GACRJ,MAAO,GACPK,QAAS,MAPf,SAWE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOhC,KAAI,UAAKA,EAAL,YAAqBiC,UAAWvC,IAC3C,cAAC,IAAD,CAAOM,KAAI,UAAKA,EAAL,SAAkBiC,UAAWzC","file":"static/js/9.ba886631.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"MovieDetails_button__2Dfz5\"};","import {\r\n  Link,\r\n  Route,\r\n  Switch,\r\n  useRouteMatch,\r\n  useHistory,\r\n  useParams,\r\n} from 'react-router-dom';\r\nimport { fetchMoviesById } from '../../Services/MovieFetch';\r\nimport { useEffect, useState, lazy, Suspense } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './MovieDetails.module.css';\r\n\r\nconst Cast = lazy(() =>\r\n  import('../../Components/Cast/Cast' /*webpackChunkName: \"Cast\"*/),\r\n);\r\nconst Reviews = lazy(() =>\r\n  import('../../Components/Reviews/Reviews' /*webpackChunkName: \"Reviews\"*/),\r\n);\r\nexport default function MovieDetails() {\r\n  const { id } = useParams();\r\n  const { url, path } = useRouteMatch();\r\n  const [film, setFilm] = useState({});\r\n  const { title, poster_path, overview } = film;\r\n  const history = useHistory();\r\n  const { search } = history.location.state;\r\n  console.log(history.location);\r\n\r\n  useEffect(() => {\r\n    const res = fetchMoviesById(id).then(r => setFilm(r));\r\n    console.log(res);\r\n  }, [id]);\r\n\r\n  return (\r\n    <div>\r\n      <p>\r\n        <Link\r\n          to={history.location.state.from ? history.location.state.from : '/'}\r\n        >\r\n          <button className={s.button} type=\"button\">\r\n            Go back\r\n          </button>\r\n        </Link>\r\n      </p>\r\n      <img\r\n        src={`https://image.tmdb.org/t/p/w500${poster_path}`}\r\n        alt=\"poster\"\r\n        width=\"450\"\r\n      />\r\n      <h3>{title}</h3>\r\n      <p>{overview} </p>\r\n      <hr />\r\n      <div>\r\n        <Link\r\n          className={s.button}\r\n          to={{\r\n            pathname: `${url}/cast`,\r\n            state: {\r\n              search: search,\r\n            },\r\n          }}\r\n        >\r\n          Cast\r\n        </Link>\r\n        <Link\r\n          className={s.button}\r\n          to={{\r\n            pathname: `${url}/reviews`,\r\n            state: {\r\n              from:\r\n                `${history.location.pathname}` + `${history.location.search}`,\r\n            },\r\n          }}\r\n        >\r\n          Review\r\n        </Link>\r\n      </div>\r\n\r\n      <Suspense\r\n        fallback={\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000}\r\n          />\r\n        }\r\n      >\r\n        <Switch>\r\n          <Route path={`${path}/reviews`} component={Reviews} />\r\n          <Route path={`${path}/cast`} component={Cast} />\r\n        </Switch>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}