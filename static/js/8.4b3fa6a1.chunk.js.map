{"version":3,"sources":["images/300.jpg","Pages/SearchMovies/SearchMovies.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","Pages/SearchMovies/SearchMovies.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"names":["module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","MoviesPage","useState","query","setQuery","movies","setMovies","location","useLocation","history","useHistory","storedQuery","URLSearchParams","search","get","useEffect","fetchMoviesByQuery","then","catch","e","console","log","className","s","form","onSubmit","preventDefault","alert","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","onClick","ImageGallery","map","title","id","poster_path","name","original_title","ImageGalleryItem","to","pathname","state","from","ImageGalleryItem_image","src","defaultImg","alt","width","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","o","minLen","n","prototype","toString","call","slice","constructor","test","TypeError"],"mappings":"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","file":"static/js/8.4b3fa6a1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/300.13970bd4.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"SearchMovies_ImageGallery__2vkqd\",\"ImageGalleryItem\":\"SearchMovies_ImageGalleryItem__3N8pB\",\"ImageGalleryItem_image\":\"SearchMovies_ImageGalleryItem_image__m0Kiu\",\"form\":\"SearchMovies_form__hNV_r\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useEffect, useState } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { fetchMoviesByQuery } from '../../Services/MovieFetch';\r\nimport s from './SearchMovies.module.css';\r\nimport defaultImg from '../../images/300.jpg';\r\n\r\nexport default function MoviesPage() {\r\n  const [query, setQuery] = useState('');\r\n  const [movies, setMovies] = useState([]);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const storedQuery = new URLSearchParams(location.search).get('query');\r\n\r\n  const handleValueChange = e => {\r\n    setQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (query === '') {\r\n      return alert('not so fast :)');\r\n    }\r\n    fetchMoviesByQuery(query)\r\n      .then(setMovies)\r\n      .catch(e => console.log(e));\r\n    setQuery('');\r\n  };\r\n\r\n  const pushSearch = () => {\r\n    history.push({\r\n      ...location,\r\n      search: `query=${query}`,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (storedQuery)\r\n      fetchMoviesByQuery(storedQuery)\r\n        .then(setMovies)\r\n        .catch(e => console.log(e));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"on\"\r\n          autoFocus\r\n          placeholder=\"Search movies\"\r\n          value={query}\r\n          onChange={handleValueChange}\r\n        />\r\n        <button type=\"submit\" onClick={pushSearch}>\r\n          Search\r\n        </button>\r\n      </form>\r\n      <div>\r\n        <ul className={s.ImageGallery}>\r\n          {movies &&\r\n            movies.map(({ title, id, poster_path, name, original_title }) => (\r\n              <li className={s.ImageGalleryItem} key={id}>\r\n                <Link\r\n                  query={storedQuery}\r\n                  to={{\r\n                    pathname: `/movies/${id}`,\r\n                    state: {\r\n                      from:\r\n                        `${history.location.pathname}` +\r\n                        `${history.location.search}`,\r\n\r\n                      search: location.search,\r\n                    },\r\n                  }}\r\n                >\r\n                  <img\r\n                    className={s.ImageGalleryItem_image}\r\n                    src={\r\n                      poster_path\r\n                        ? `https://image.tmdb.org/t/p/w500${poster_path}`\r\n                        : defaultImg\r\n                    }\r\n                    alt={title}\r\n                    width=\"150\"\r\n                    title={title}\r\n                  />\r\n                  <div> {name || original_title}</div>\r\n                </Link>\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}